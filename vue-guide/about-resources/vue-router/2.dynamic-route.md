# Dynamic Routes no Vue Router

## Introdu√ß√£o

No desenvolvimento de aplica√ß√µes web modernas, especialmente em frameworks como Vue.js, a navega√ß√£o entre diferentes partes da aplica√ß√£o √© crucial para a experi√™ncia do usu√°rio. O Vue Router permite criar **rotas din√¢micas (Dynamic Routes)**, possibilitando URLs flex√≠veis que se ajustam conforme os dados.

### Por que usar rotas din√¢micas?
- **Facilidade de manuten√ß√£o**: evita a repeti√ß√£o desnecess√°ria de c√≥digo.
- **Escalabilidade**: √† medida que a aplica√ß√£o cresce, o gerenciamento das rotas continua simples.
- **Melhor experi√™ncia do usu√°rio**: possibilita URLs significativas e organizadas.
- **Menos acoplamento**: facilita a reutiliza√ß√£o de componentes e melhora a estrutura do c√≥digo.

---

## Criando Rotas Din√¢micas no Vue Router

Podemos criar uma rota din√¢mica passando `:curso` no arquivo `router.js`:

```javascript
const routes = [
  {
    path: "/",
    component: HomePage
  },
  {
    path: "/cursos",
    component: CursosPage
  },
  {
    path: "/cursos/:curso",
    component: CursosPage
  }
];
```

### Passando o valor do curso para o template:

```vue
<template>
  <div>
    <h1>Sess√£o de Cursos</h1>
    <h2>Curso - {{ curso }}</h2>
    <router-link to="/cursos/javascript">JavaScript</router-link>
    <router-link to="/cursos/html">HTML</router-link>
    <router-link to="/cursos/css">CSS</router-link>
  </div>
</template>

<script>
export default {
  name: "CursosPage",
  computed: {
    curso() {
      return this.$route.params.curso;
    }
  }
};
</script>
```

---

## Navigation Guards

- Componentes **n√£o s√£o recriados** quando o par√¢metro de um Dynamic Route √© modificado.
- Para isso, utilizamos **navigation guards**, que funcionam como hooks no Vue Router.

```javascript
beforeRouteUpdate(to, from, next) {
  console.log(to);
  console.log(from);
  console.log(next);
  next(); // Permite a mudan√ßa de rota
}
```

### Por que usar?
Quando usamos uma rota din√¢mica, o componente √© carregado **somente uma vez**. Se houver uma chamada de API (`fetch`), ela **n√£o ser√° feita novamente** a menos que usemos esses hooks para for√ßar a atualiza√ß√£o dos dados.

---

## Props para Rotas

Em vez de acessar os par√¢metros da rota via `computed`, podemos usar **props** para receber os valores diretamente no componente.

### Ajustando `router.js`:
```javascript
{
  path: "/cursos/:curso",
  component: CursosPage,
  props: true
}
```

### Ajustando `CursosPage.vue`:
```vue
<script>
export default {
  name: "CursosPage",
  props: ["curso"]
};
</script>
```

Agora, no template podemos simplesmente acessar:
```vue
<h2>Curso - {{ curso }}</h2>
```

---

## Nested Routes (Rotas Aninhadas)

Podemos indicar que uma rota possui **rotas filhas**, permitindo exibir diferentes conte√∫dos dentro do mesmo componente pai.

### Criando a estrutura no `router.js`:
```javascript
const routes = [
  {
    path: "/cursos",
    component: CursosPage,
    children: [
      {
        path: ":curso",
        props: true,
        component: CursoPage,
        children: [
          {
            name: "aulas",
            path: "aulas",
            component: CursoAulas,
          },
          {
            name: "descricao",
            path: "descricao",
            component: CursoDescricao,
          },
        ],
      },
    ],
  },
];
```

### Exemplo do Componente `Cursos.vue`:
```vue
<template>
  <div>
    <h1>Sess√£o de Cursos</h1>
    <h2>{{ curso }}</h2>
    <router-link to="/cursos/javascript">JavaScript</router-link>
    <router-link to="/cursos/html">HTML</router-link>
    <router-link to="/cursos/css">CSS</router-link>
    <router-view></router-view>
  </div>
</template>

<script>
export default {
  name: "CursosPage",
  props: ["curso"],
  created() {
    console.log('Esse componente foi criado');
  },
  beforeRouteUpdate(to, from, next) {
    console.log(to);
    console.log(from);
    next();
  }
};
</script>
```

Aqui, `router-view` dentro de `CursosPage` renderiza os **filhos da rota**.

---

## Quando Usar Dynamic Routes no Mundo Real

Os dynamic routes s√£o √∫tis em diversas situa√ß√µes, como:

1. **E-commerce**: URLs din√¢micas para produtos, ex: `/produto/:id`
2. **Perfis de usu√°rios**: Exemplo: `/perfil/:usuario`
3. **Blogs e artigos**: Posts acess√≠veis via `/blog/:slug`

Exemplo:
```vue
<router-link :to="{ name: 'curso', params: { curso: 'javascript' } }">JavaScript</router-link>
```

---

## Quando N√ÉO Usar Dynamic Routes

Embora sejam flex√≠veis, dynamic routes nem sempre s√£o a melhor escolha:

- **Rotas est√°ticas bem definidas**: Como "Sobre" e "Contato".
- **SEO**: URLs est√°ticas s√£o mais f√°ceis de indexar por buscadores.
- **Acesso r√°pido**: Evita chamadas desnecess√°rias ao backend.

---

## Conclus√£o

O uso de **rotas din√¢micas** no Vue Router permite criar **aplica√ß√µes escal√°veis e organizadas**.

- Utilizando **named routes**, **props din√¢micos** e **navigation guards**, evitamos repeti√ß√£o de c√≥digo e melhoramos a experi√™ncia do usu√°rio.
- No entanto, √© essencial avaliar se dynamic routes s√£o realmente necess√°rias.

Com essa abordagem, garantimos um c√≥digo **mais organizado, escal√°vel e f√°cil de manter**! üöÄ

