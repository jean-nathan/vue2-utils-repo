* ‚úÖ Quando usar
* ‚ùå Quando **n√£o** usar
* üß† Explica√ß√µes acess√≠veis
* ‚úÖ 3 exemplos reais de **cada hook**

---

## üîÑ Ciclo de Vida no Vue.js ‚Äì Hooks explicados com exemplos reais

---

### ü•ö `beforeCreate()`

* ‚úÖ **Quando usar:** Configura√ß√µes iniciais que **n√£o dependem** de `data`, `methods` ou `props`.
* ‚ùå **N√£o usar para:** Acessar `this.data` ou `this.methods`, pois ainda **n√£o existem**.

```js
beforeCreate() {
  console.log(this.mensagem) // ‚ùå undefined
}
```

---

### üå± `created()`

> ‚öôÔ∏è Ideal para l√≥gica inicial que **usa dados reativos**, mas **n√£o precisa do DOM**.

* ‚úÖ Quando usar:

  * Requisi√ß√µes `fetch` / API
  * Manipula√ß√£o de `data`, `props`
  * Agendamentos (`setInterval`, `setTimeout`)

* ‚ùå N√£o usar para:

  * Manipular DOM (use `mounted`)

```js
created() {
  console.log("Dados carregados:", this.dados); // ‚úÖ dados reativos acess√≠veis
}
```

#### üìå Exemplos Reais:

1. ‚úÖ Fazer requisi√ß√£o de API:

   ```js
   created() {
     fetch("https://api.exemplo.com/posts")
       .then(res => res.json())
       .then(data => this.posts = data)
   }
   ```

2. ‚úÖ Iniciar um intervalo:

   ```js
   created() {
     this.timer = setInterval(() => this.contador++, 1000)
   }
   ```

3. ‚úÖ Verificar localStorage:

   ```js
   created() {
     const valor = localStorage.getItem("usuario");
     this.usuario = valor || null;
   }
   ```

---

### üå≥ `mounted()`

> üß± Ideal para c√≥digo que **manipula o DOM**, acessa `refs` ou adiciona **eventos globais**.

* ‚úÖ Quando usar:

  * Acessar elementos HTML (`this.$refs`)
  * Eventos globais (`scroll`, `keyup`, etc)
  * Plugins de terceiros que precisam do DOM

* ‚ùå N√£o usar para: Executar c√≥digo antes da interface estar vis√≠vel

```js
mounted() {
  console.log(this.$refs.input) // ‚úÖ DOM est√° pronto
}
```

#### üìå Exemplos Reais:

1. ‚úÖ Adicionar evento de scroll:

   ```js
   mounted() {
     window.addEventListener("scroll", this.verificarScroll)
   }
   ```

2. ‚úÖ Usar biblioteca como `Swiper`:

   ```js
   mounted() {
     new Swiper('.swiper-container')
   }
   ```

3. ‚úÖ Foco autom√°tico:

   ```js
   mounted() {
     this.$refs.meuInput.focus()
   }
   ```

---

### üåÄ `beforeUpdate()`

> ‚ö†Ô∏è Chamado antes de o DOM ser re-renderizado ap√≥s uma mudan√ßa reativa.

* ‚úÖ Quando usar:

  * Comparar valor anterior com o novo
  * Cancelar atualiza√ß√µes baseadas em condi√ß√µes

* ‚ùå N√£o usar para: Modificar DOM (use `updated` para isso)

#### üìå Exemplos Reais:

1. ‚úÖ Verificar mudan√ßa antes de renderizar:

   ```js
   beforeUpdate() {
     if (this.nomeAntigo !== this.nome) {
       console.log("Nome ser√° alterado")
     }
   }
   ```

2. ‚úÖ Prevenir atualiza√ß√£o com uma flag:

   ```js
   beforeUpdate() {
     if (!this.permiteAlterar) {
       // L√≥gica para evitar algo
     }
   }
   ```

3. ‚úÖ Log de rastreio:

   ```js
   beforeUpdate() {
     console.log("Algo est√° prestes a mudar no DOM")
   }
   ```

---

### ‚úÖ `updated()`

> ‚úÖ Chamado depois que o DOM foi atualizado com novos dados reativos.

* ‚úÖ Quando usar:

  * Trabalhar com o DOM atualizado
  * Recalcular posi√ß√µes de elementos
  * Ver diferen√ßas visuais ap√≥s update

* ‚ùå N√£o usar para: Inicializa√ß√£o (use `mounted`)

#### üìå Exemplos Reais:

1. ‚úÖ Reajustar altura de um elemento:

   ```js
   updated() {
     this.ajustarAltura(this.$refs.caixa)
   }
   ```

2. ‚úÖ Scroll autom√°tico ap√≥s inser√ß√£o:

   ```js
   updated() {
     this.$nextTick(() => {
       this.$refs.chat.scrollTop = this.$refs.chat.scrollHeight
     })
   }
   ```

3. ‚úÖ Testar performance de reatividade:

   ```js
   updated() {
     console.timeEnd("reactivity")
   }
   ```

---

### üí£ `beforeDestroy()` / `beforeUnmount()` (Vue 3)

> ‚ö†Ô∏è Chamado **antes** de destruir o componente. √ìtimo para **limpar efeitos colaterais**.

* ‚úÖ Quando usar:

  * Remover listeners (`scroll`, `keydown`)
  * Parar timers ou observadores

#### üìå Exemplos Reais:

1. ‚úÖ Remover eventos:

   ```js
   beforeDestroy() {
     window.removeEventListener("scroll", this.verificarScroll)
   }
   ```

2. ‚úÖ Limpar `setInterval`:

   ```js
   beforeDestroy() {
     clearInterval(this.timer)
   }
   ```

3. ‚úÖ Fechar conex√£o de WebSocket:

   ```js
   beforeDestroy() {
     this.socket.close()
   }
   ```

---

### üßπ `destroyed()` / `unmounted()` (Vue 3)

> ‚úîÔ∏è Chamado depois que o componente foi destru√≠do. Serve para confirmar ou registrar a destrui√ß√£o.

#### üìå Exemplos Reais:

1. ‚úÖ Log:

   ```js
   destroyed() {
     console.log("Componente foi destru√≠do")
   }
   ```

2. ‚úÖ Resetar estado global:

   ```js
   destroyed() {
     this.$store.commit("resetarDados")
   }
   ```

3. ‚úÖ Encerrar anima√ß√µes:

   ```js
   destroyed() {
     this.animacao?.cancel()
   }
   ```

---

## üß† Flashcards de Memoriza√ß√£o

**‚ùì Quando usar `created()` e quando usar `mounted()`?**

```
Use created() para l√≥gica que depende de dados reativos (API, setInterval, localStorage).
Use mounted() para intera√ß√µes com o DOM, refs ou eventos globais (scroll, keyup).
```

**‚ùì Posso acessar o DOM em `created()`?**

```
N√£o. O DOM ainda n√£o foi renderizado. Use `mounted()` para isso.
```

---

Claro, Nathan! Aqui est√° a estrutura organizada de arquivos em um arquivo `.md`, com base nos exemplos e explica√ß√µes fornecidas:

---

### üìÑ `estrutura-de-flags-externas-no-vue.md`

````markdown
# Estrutura de Flags Externas no Vue.js utilizada no BeforeCreated():

Este guia organiza a utiliza√ß√£o de **flags externas** em Vue.js para controlar comportamentos globais em componentes, como controle de acesso, carregamento √∫nico, e permiss√µes na interface do usu√°rio (UI).

## Sum√°rio

- [O que s√£o Flags Externas?](#-o-que-s√£o-flags-externas)
- [Exemplo de Flags Externas](#exemplo-de-flags-externas)
- [Cen√°rios Comuns de Uso](#cen√°rios-comuns-de-uso)
  - [Detectar se um Componente foi Acessado](#1-detectar-se-um-componente-foi-acessado)
  - [Evitar M√∫ltiplos Carregamentos](#2-evitar-m√∫ltiplos-carregamentos)
  - [Simular Autentica√ß√£o](#3-simular-autentica√ß√£o)
  - [Controle de Permiss√µes na Interface (UI)](#4-controle-de-permiss√µes-na-interface-ui)
- [Onde Colocar as Flags?](#onde-colocar-as-flags)
- [Conclus√£o](#-conclus√£o)

---

## üßê O que s√£o Flags Externas?

Uma flag externa √© uma vari√°vel definida **fora do componente**, geralmente em um arquivo separado, usada para **controlar comportamentos globais** ou compartilhar estado leve entre componentes.

Exemplo de arquivo de flags:

```js
// src/flags/componentFlags.js
export const componentFlags = {
  MeuComponenteVisitado: false
};
```

---

## üîë Exemplo de Flags Externas

```js
// src/flags/componentFlags.js
export const componentFlags = {
  MeuComponenteVisitado: false
};
```

No componente Vue:

```js
import { componentFlags } from '@/flags/componentFlags';

export default {
  beforeCreate() {
    componentFlags.MeuComponenteVisitado = true;
    console.log('Componente acessado:', componentFlags.MeuComponenteVisitado);
  }
}
```

---

## üß© Cen√°rios Comuns de Uso

### 1. Detectar se um Componente foi Acessado

Usado para controlar se o componente foi acessado, realizando alguma a√ß√£o apenas uma vez.

```js
// src/flags/componentFlags.js
export const componentFlags = {
  MeuComponenteVisitado: false
};
```

No componente:

```js
import { componentFlags } from '@/flags/componentFlags';

export default {
  beforeCreate() {
    componentFlags.MeuComponenteVisitado = true;
    console.log('Componente acessado:', componentFlags.MeuComponenteVisitado);
  }
}
```

### 2. Evitar M√∫ltiplos Carregamentos

Para evitar que um componente fa√ßa requisi√ß√µes pesadas sempre que for acessado.

```js
export const componentFlags = {
  ProdutosCarregados: false
};
```

No componente:

```js
import { componentFlags } from '@/flags/componentFlags';

export default {
  async created() {
    if (!componentFlags.ProdutosCarregados) {
      await this.carregarProdutos();
      componentFlags.ProdutosCarregados = true;
    }
  },
  methods: {
    async carregarProdutos() {
      // L√≥gica para carregar produtos da API
    }
  }
}
```

### 3. Simular Autentica√ß√£o

Controle de acesso baseado na flag de autentica√ß√£o.

```js
export const authFlags = {
  isLoggedIn: false
};
```

No componente:

```js
import { authFlags } from '@/flags/authFlags';

export default {
  beforeCreate() {
    if (!authFlags.isLoggedIn) {
      alert('Acesso negado!');
      this.$router.push('/login');
    }
  }
}
```

### 4. Controle de Permiss√µes na Interface (UI)

Controle de visibilidade de elementos da UI com base em permiss√µes.

```js
export const userPermissions = {
  podeEditar: false
};
```

No componente:

```vue
<template>
  <div>
    <button v-if="podeEditar">Editar</button>
  </div>
</template>

<script>
import { userPermissions } from '@/flags/userPermissions';

export default {
  computed: {
    podeEditar() {
      return userPermissions.podeEditar;
    }
  }
}
</script>
```

---

## üìç Onde Colocar as Flags?

| Local                        | Quando Usar                                  |
| ---------------------------- | -------------------------------------------- |
| Mesmo arquivo do componente  | Para cen√°rios simples ou locais              |
| Arquivo separado (`/flags/`) | Para compartilhar flags entre componentes   |
| Servi√ßos (`/services/`)      | Para flags ligadas a logs, monitoramento, etc.|
| Vuex ou Pinia                | Quando precisar de reatividade e persist√™ncia|

---

## ‚úÖ Conclus√£o

As **flags externas** s√£o uma solu√ß√£o eficiente para controlar comportamentos globais no Vue.js, sem depender de bibliotecas pesadas como Vuex/Pinia. Elas ajudam a gerenciar o estado leve de forma simples e eficaz, permitindo otimizar o comportamento dos componentes e controlar acesso/visibilidade na interface de forma clara.

```

---

