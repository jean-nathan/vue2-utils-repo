* ✅ Quando usar
* ❌ Quando **não** usar
* 🧠 Explicações acessíveis
* ✅ 3 exemplos reais de **cada hook**

---

## 🔄 Ciclo de Vida no Vue.js – Hooks explicados com exemplos reais

---

### 🥚 `beforeCreate()`

* ✅ **Quando usar:** Configurações iniciais que **não dependem** de `data`, `methods` ou `props`.
* ❌ **Não usar para:** Acessar `this.data` ou `this.methods`, pois ainda **não existem**.

```js
beforeCreate() {
  console.log(this.mensagem) // ❌ undefined
}
```

---

### 🌱 `created()`

> ⚙️ Ideal para lógica inicial que **usa dados reativos**, mas **não precisa do DOM**.

* ✅ Quando usar:

  * Requisições `fetch` / API
  * Manipulação de `data`, `props`
  * Agendamentos (`setInterval`, `setTimeout`)

* ❌ Não usar para:

  * Manipular DOM (use `mounted`)

```js
created() {
  console.log("Dados carregados:", this.dados); // ✅ dados reativos acessíveis
}
```

#### 📌 Exemplos Reais:

1. ✅ Fazer requisição de API:

   ```js
   created() {
     fetch("https://api.exemplo.com/posts")
       .then(res => res.json())
       .then(data => this.posts = data)
   }
   ```

2. ✅ Iniciar um intervalo:

   ```js
   created() {
     this.timer = setInterval(() => this.contador++, 1000)
   }
   ```

3. ✅ Verificar localStorage:

   ```js
   created() {
     const valor = localStorage.getItem("usuario");
     this.usuario = valor || null;
   }
   ```

---

### 🌳 `mounted()`

> 🧱 Ideal para código que **manipula o DOM**, acessa `refs` ou adiciona **eventos globais**.

* ✅ Quando usar:

  * Acessar elementos HTML (`this.$refs`)
  * Eventos globais (`scroll`, `keyup`, etc)
  * Plugins de terceiros que precisam do DOM

* ❌ Não usar para: Executar código antes da interface estar visível

```js
mounted() {
  console.log(this.$refs.input) // ✅ DOM está pronto
}
```

#### 📌 Exemplos Reais:

1. ✅ Adicionar evento de scroll:

   ```js
   mounted() {
     window.addEventListener("scroll", this.verificarScroll)
   }
   ```

2. ✅ Usar biblioteca como `Swiper`:

   ```js
   mounted() {
     new Swiper('.swiper-container')
   }
   ```

3. ✅ Foco automático:

   ```js
   mounted() {
     this.$refs.meuInput.focus()
   }
   ```

---

### 🌀 `beforeUpdate()`

> ⚠️ Chamado antes de o DOM ser re-renderizado após uma mudança reativa.

* ✅ Quando usar:

  * Comparar valor anterior com o novo
  * Cancelar atualizações baseadas em condições

* ❌ Não usar para: Modificar DOM (use `updated` para isso)

#### 📌 Exemplos Reais:

1. ✅ Verificar mudança antes de renderizar:

   ```js
   beforeUpdate() {
     if (this.nomeAntigo !== this.nome) {
       console.log("Nome será alterado")
     }
   }
   ```

2. ✅ Prevenir atualização com uma flag:

   ```js
   beforeUpdate() {
     if (!this.permiteAlterar) {
       // Lógica para evitar algo
     }
   }
   ```

3. ✅ Log de rastreio:

   ```js
   beforeUpdate() {
     console.log("Algo está prestes a mudar no DOM")
   }
   ```

---

### ✅ `updated()`

> ✅ Chamado depois que o DOM foi atualizado com novos dados reativos.

* ✅ Quando usar:

  * Trabalhar com o DOM atualizado
  * Recalcular posições de elementos
  * Ver diferenças visuais após update

* ❌ Não usar para: Inicialização (use `mounted`)

#### 📌 Exemplos Reais:

1. ✅ Reajustar altura de um elemento:

   ```js
   updated() {
     this.ajustarAltura(this.$refs.caixa)
   }
   ```

2. ✅ Scroll automático após inserção:

   ```js
   updated() {
     this.$nextTick(() => {
       this.$refs.chat.scrollTop = this.$refs.chat.scrollHeight
     })
   }
   ```

3. ✅ Testar performance de reatividade:

   ```js
   updated() {
     console.timeEnd("reactivity")
   }
   ```

---

### 💣 `beforeDestroy()` / `beforeUnmount()` (Vue 3)

> ⚠️ Chamado **antes** de destruir o componente. Ótimo para **limpar efeitos colaterais**.

* ✅ Quando usar:

  * Remover listeners (`scroll`, `keydown`)
  * Parar timers ou observadores

#### 📌 Exemplos Reais:

1. ✅ Remover eventos:

   ```js
   beforeDestroy() {
     window.removeEventListener("scroll", this.verificarScroll)
   }
   ```

2. ✅ Limpar `setInterval`:

   ```js
   beforeDestroy() {
     clearInterval(this.timer)
   }
   ```

3. ✅ Fechar conexão de WebSocket:

   ```js
   beforeDestroy() {
     this.socket.close()
   }
   ```

---

### 🧹 `destroyed()` / `unmounted()` (Vue 3)

> ✔️ Chamado depois que o componente foi destruído. Serve para confirmar ou registrar a destruição.

#### 📌 Exemplos Reais:

1. ✅ Log:

   ```js
   destroyed() {
     console.log("Componente foi destruído")
   }
   ```

2. ✅ Resetar estado global:

   ```js
   destroyed() {
     this.$store.commit("resetarDados")
   }
   ```

3. ✅ Encerrar animações:

   ```js
   destroyed() {
     this.animacao?.cancel()
   }
   ```

---

## 🧠 Flashcards de Memorização

**❓ Quando usar `created()` e quando usar `mounted()`?**

```
Use created() para lógica que depende de dados reativos (API, setInterval, localStorage).
Use mounted() para interações com o DOM, refs ou eventos globais (scroll, keyup).
```

**❓ Posso acessar o DOM em `created()`?**

```
Não. O DOM ainda não foi renderizado. Use `mounted()` para isso.
```

---
